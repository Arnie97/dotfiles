#!/bin/bash

if [ $# -ge 1 ]; then
    milky "$1.cpp.k" && \
    g++ -std=c++14 "$1.cpp" && \
    if [ $# -eq 2 -a -f "$1$2.in" ]; then
        ./a < "$1$2.in"
    elif [ -f "$1.in" ]; then
        ./a < "$1.in"
    else
        echo "Test input not found, using stdin:"
        ./a
    fi && \
    cat "$1.cpp" > /dev/clipboard
else
    echo "Invalid arguments: '$@'"
fi
